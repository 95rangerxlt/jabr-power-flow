function mpc = case_ieee30_tree_v2

%% MATPOWER Case Format : Version 2
mpc.version = '2';

%%-----  Power Flow Data  -----%%
%% system MVA base
mpc.baseMVA = 1;

%% bus data
%	bus_i	type	Pd	Qd	Gs	Bs	area	Vm	Va	baseKV	zone	Vmax	Vmin
mpc.bus = [
	1	3	0	0	0	0	1	1.06	0	132	1	1.06	0.94;
	2	1	-18.3	-5.18364261	0	0	1	1.045	-2.39432627	132	1	1.06	0.94;
	3	1	2.4	1.2	0	0	1	0.986065897	-16.9883368	132	1	1.06	0.94;
	4	1	7.6	1.6	0	0	1	0.978035965	-21.1631281	132	1	1.06	0.94;
	5	1	94.2	-13.5895479	0	0	1	1.01	-12.9424943	132	1	1.06	0.94;
	6	1	0	0	0	0	1	0.985111342	-24.617636	132	1	1.06	0.94;
	7	1	22.8	10.9	0	0	1	0.969478119	-25.5647079	132	1	1.06	0.94;
	8	1	30	-68.9440923	0	0	1	1.01	-25.8197309	132	1	1.06	0.94;
	9	1	0	0	0	0	1	1.03198219	-30.7303458	1	1	1.06	0.94;
	10	1	5.8	2	0	0	1	1.02320093	-33.9082967	33	1	1.06	0.94;
	11	1	0	-26.0188784	0	0	1	1.082	-30.7303458	11	1	1.06	0.94;
	12	1	11.2	7.5	0	0	1	1.04794121	-25.9346151	33	1	1.06	0.94;
	13	1	0	-17.6399774	0	0	1	1.071	-25.9346151	11	1	1.06	0.94;
	14	1	6.2	1.6	0	0	1	1.03654226	-26.6676196	33	1	1.06	0.94;
	15	1	8.2	2.5	0	0	1	1.03207318	-26.767817	33	1	1.06	0.94;
	16	1	3.5	1.8	0	0	1	1.04131811	-26.2104523	33	1	1.06	0.94;
	17	1	9	5.8	0	0	1	1.01548761	-34.2240337	33	1	1.06	0.94;
	18	1	3.2	0.9	0	0	1	1.02679733	-27.0936391	33	1	1.06	0.94;
	19	1	9.5	3.4	0	0	1	0.997794068	-35.3628705	33	1	1.06	0.94;
	20	1	2.2	0.7	0	0	1	1.0033624	-35.059321	33	1	1.06	0.94;
	21	1	17.5	11.2	0	0	1	1.00880781	-34.4195239	33	1	1.06	0.94;
	22	1	0	0	0	0	1	1.01304367	-34.5341625	33	1	1.06	0.94;
	23	1	3.2	1.6	0	0	1	1.02579202	-27.0310546	33	1	1.06	0.94;
	24	1	8.7	6.7	0	0	1	0.998620581	-35.2590891	33	1	1.06	0.94;
	25	1	0	0	0	0	1	0.974170957	-29.3276286	33	1	1.06	0.94;
	26	1	3.5	2.3	0	0	1	0.95567748	-29.7860523	33	1	1.06	0.94;
	27	1	0	0	0	0	1	0.983248826	-29.0397406	33	1	1.06	0.94;
	28	1	0	0	0	0	1	0.977605759	-25.1496916	132	1	1.06	0.94;
	29	1	2.4	0.9	0	0	1	0.973960747	-29.5177266	33	1	1.06	0.94;
	30	1	10.6	1.9	0	0	1	0.932621559	-32.6537363	33	1	1.06	0.94;
];

%% generator data
%	bus	Pg	Qg	Qmax	Qmin	Vg	mBase	status	Pmax	Pmin	Pc1	Pc2	Qc1min	Qc1max	Qc2min	Qc2max	ramp_agc	ramp_10	ramp_30	ramp_q	apf
mpc.gen = [
	1	272.309901	24.9780958	10	0	1.06	100	1	360.2	0	0	0	0	0	0	0	0	0	0	0	0;
];

%% branch data
%	fbus	tbus	r	x	b	rateA	rateB	rateC	ratio	angle	status	angmin	angmax	Pf	Qf	Pt	Qt
mpc.branch = [
	1	2	0.000192	0.000575	0	9900	0	0	0	0	1	-360	360	81.2193	2.2138	-80.0913	1.1645;
	1	3	0.000452	0.001652	0	9900	0	0	0	0	1	-360	360	191.0906	22.7643	-176.1927	31.6856;
	2	5	0.000472	0.001983	0	9900	0	0	0	0	1	-360	360	98.3913	4.0192	-94.2000	13.5895;
	3	4	0.000132	0.000379	0	9900	0	0	0	0	1	-360	360	173.7927	-32.8856	-169.5455	45.0802;
	4	6	0.000119	0.000414	0	9900	0	0	0	0	1	-360	360	126.2128	-48.7648	-123.9353	56.6884;
	4	12	0	0.00256	0	9900	0	0	0	0	1	-360	360	35.7326	2.0846	-35.7326	0.8937;
	6	7	0.000267	0.00082	0	9900	0	0	0	0	1	-360	360	22.9814	11.4572	-22.8000	-10.9000;
	6	8	0.00012	0.00042	0	9900	0	0	0	0	1	-360	360	30.6650	-66.6165	-30.0000	68.9441;
	6	9	0	0.00208	0	9900	0	0	0	0	1	-360	360	53.2160	-9.1252	-53.2160	15.1016;
	6	28	0.000169	0.000599	0	9900	0	0	0	0	1	-360	360	17.0728	7.5961	-17.0120	-7.3806;
	9	10	0	0.0011	0	9900	0	0	0	0	1	-360	360	53.2160	9.7145	-53.2160	-6.6920;
	9	11	0	0.00208	0	9900	0	0	0	0	1	-360	360	-0.0000	-24.8161	0.0000	26.0189;
	10	17	0.000324	0.000845	0	9900	0	0	0	0	1	-360	360	9.0360	5.8939	-9.0000	-5.8000;
	10	20	0.000936	0.00209	0	9900	0	0	0	0	1	-360	360	11.8790	4.4915	-11.7348	-4.1695;
	10	21	0.000348	0.000749	0	9900	0	0	0	0	1	-360	360	17.6476	11.5177	-17.5000	-11.2000;
	10	22	0.000727	0.001499	0	9900	0	0	0	0	1	-360	360	8.8534	2.6807	-8.7940	-2.5582;
	12	13	0	0.0014	0	9900	0	0	0	0	1	-360	360	-0.0000	-17.2602	0.0000	17.6400;
	12	14	0.001231	0.002559	0	9900	0	0	0	0	1	-360	360	6.2470	1.6977	-6.2000	-1.6000;
	12	15	0.000662	0.001304	0	9900	0	0	0	0	1	-360	360	14.7721	5.3405	-14.6234	-5.0475;
	12	16	0.000945	0.001987	0	9900	0	0	0	0	1	-360	360	3.5135	1.8284	-3.5000	-1.8000;
	15	18	0.001073	0.002185	0	9900	0	0	0	0	1	-360	360	3.2112	0.9229	-3.2000	-0.9000;
	15	23	0.001	0.00202	0	9900	0	0	0	0	1	-360	360	3.2122	1.6246	-3.2000	-1.6000;
	19	20	0.00034	0.00068	0	9900	0	0	0	0	1	-360	360	-9.5000	-3.4000	9.5348	3.4695;
	22	24	0.00115	0.00179	0	9900	0	0	0	0	1	-360	360	8.7940	2.5582	-8.7000	-2.4119;
	25	26	0.002544	0.0038	0	9900	0	0	0	0	1	-360	360	3.5489	2.3730	-3.5000	-2.3000;
	25	27	0.001093	0.002087	0	9900	0	0	0	0	1	-360	360	-3.5489	-2.3730	3.5698	2.4131;
	28	27	0	0.00396	0	9900	0	0	0	0	1	-360	360	17.0120	7.3806	-17.0120	-6.0454;
	27	29	0.002198	0.004153	0	9900	0	0	0	0	1	-360	360	2.4152	0.9288	-2.4000	-0.9000;
	27	30	0.003202	0.006027	0	9900	0	0	0	0	1	-360	360	11.0269	2.7036	-10.6000	-1.9000;
];

%%-----  OPF Data  -----%%
%% generator cost data
%	1	startup	shutdown	n	x1	y1	...	xn	yn
%	2	startup	shutdown	n	c(n-1)	...	c0
mpc.gencost = [
	2	0	0	3	0.038432	20	0;
	2	0	0	3	0.25	20	0;
	2	0	0	3	0.01	40	0;
	2	0	0	3	0.01	40	0;
	2	0	0	3	0.01	40	0;
	2	0	0	3	0.01	40	0;
];
